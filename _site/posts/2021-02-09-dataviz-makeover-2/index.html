<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Amanda's DataViz Web Blog: The Second DataViz Makeover</title>

<meta property="description" itemprop="description" content="ISSS608 Visual Analytics and Applications - DataViz Makeover 2"/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-02-09"/>
<meta property="article:created" itemprop="dateCreated" content="2021-02-09"/>
<meta name="article:author" content="Amanda"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Amanda&#39;s DataViz Web Blog: The Second DataViz Makeover"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="ISSS608 Visual Analytics and Applications - DataViz Makeover 2"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Amanda&#39;s DataViz Web Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Amanda&#39;s DataViz Web Blog: The Second DataViz Makeover"/>
<meta property="twitter:description" content="ISSS608 Visual Analytics and Applications - DataViz Makeover 2"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["The Second DataViz Makeover"]},{"type":"character","attributes":{},"value":["ISSS608 Visual Analytics and Applications - DataViz Makeover 2"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Amanda"]},{"type":"character","attributes":{},"value":["https://example.com/amandatwl"]},{"type":"character","attributes":{},"value":["Student of SMU MITB"]},{"type":"character","attributes":{},"value":["https://www.smu.edu.sg/"]}]}]},{"type":"character","attributes":{},"value":["02-09-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["critique/aspectratio_bar_right.jpg","critique/dataorder.jpg","critique/faintlines.jpg","critique/legend.jpg","critique/stackedbar_left.jpg","critique/xaxis_bar_right.jpg","critique/xaxislabels.jpg","guide/1.0.jpg","guide/2.0.jpg","guide/2.1.jpg","guide/2.2.jpg","guide/2.3.jpg","guide/2.4.jpg","guide/2.5.jpg","guide/3.0.jpg","guide/3.1.jpg","guide/3.2.jpg","guide/3.3.jpg","guide/3.4.jpg","guide/3.5.jpg","guide/3.6.jpg","guide/3.7.jpg","guide/4.0.jpg","guide/4.1.jpg","guide/4.10.jpg","guide/4.11.jpg","guide/4.12.jpg","guide/4.13.jpg","guide/4.14.jpg","guide/4.15.jpg","guide/4.16.jpg","guide/4.17.jpg","guide/4.2.jpg","guide/4.3.jpg","guide/4.4.jpg","guide/4.5.jpg","guide/4.6.jpg","guide/4.7.jpg","guide/4.8.jpg","guide/4.9.jpg","guide/5.0.jpg","guide/5.1.jpg","guide/5.10.jpg","guide/5.2.jpg","guide/5.3.jpg","guide/5.4.jpg","guide/5.5.jpg","guide/5.6.jpg","guide/5.7.jpg","guide/5.8.jpg","guide/5.9.jpg","guide/6.0.jpg","guide/6.1.jpg","guide/6.10.jpg","guide/6.11.jpg","guide/6.12.jpg","guide/6.13.jpg","guide/6.2.jpg","guide/6.3.jpg","guide/6.4.jpg","guide/6.5.jpg","guide/6.6.jpg","guide/6.7.jpg","guide/6.8.jpg","guide/6.9.jpg","guide/7.0.jpg","guide/7.1.jpg","guide/7.2.jpg","guide/7.3.jpg","guide/7.4.jpg","guide/7.5.jpg","images/DataVisualisation.jpg","images/sketch.jpg","the-second-dataviz-makeover_files/anchor-4.2.2/anchor.min.js","the-second-dataviz-makeover_files/bowser-1.9.3/bowser.min.js","the-second-dataviz-makeover_files/distill-2.2.21/template.v2.js","the-second-dataviz-makeover_files/header-attrs-2.6/header-attrs.js","the-second-dataviz-makeover_files/jquery-1.11.3/jquery.min.js","the-second-dataviz-makeover_files/popper-2.6.0/popper.min.js","the-second-dataviz-makeover_files/tippy-6.2.7/tippy-bundle.umd.min.js","the-second-dataviz-makeover_files/tippy-6.2.7/tippy-light-border.css","the-second-dataviz-makeover_files/tippy-6.2.7/tippy.css","the-second-dataviz-makeover_files/tippy-6.2.7/tippy.umd.min.js","the-second-dataviz-makeover_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.6/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"The Second DataViz Makeover","description":"ISSS608 Visual Analytics and Applications - DataViz Makeover 2","authors":[{"author":"Amanda","authorURL":"https://example.com/amandatwl","affiliation":"Student of SMU MITB","affiliationURL":"https://www.smu.edu.sg/","orcidID":""}],"publishedDate":"2021-02-09T00:00:00.000+08:00","citationText":"Amanda, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Amanda's DataViz Web Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>The Second DataViz Makeover</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>ISSS608 Visual Analytics and Applications - DataViz Makeover 2</p></p>
</div>

<div class="d-byline">
  Amanda <a href="https://example.com/amandatwl" class="uri">https://example.com/amandatwl</a> (Student of SMU MITB)<a href="https://www.smu.edu.sg/" class="uri">https://www.smu.edu.sg/</a>
  
<br/>02-09-2021
</div>

<div class="d-article">
<h1 id="the-data-visualisation">The Data Visualisation</h1>
<figure>
<img src="images/DataVisualisation.jpg" style="width:120.0%" alt="Two data visualisations on understanding the willingness of the public on COVID-19 vaccination" /><figcaption aria-hidden="true">Two data visualisations on understanding the willingness of the public on COVID-19 vaccination</figcaption>
</figure>
<h1 id="a-critique-of-current-visualisation">(a) Critique of current visualisation</h1>
<h2 id="clarity">Clarity</h2>
<h3 id="layout-of-the-graph-elements-in-the-visualisation">1. Layout of the graph elements in the visualisation</h3>
<p>The graph titles are obvious and the audience is able to visually group the title with the corresponding graph. However, it is not clear if the title Which country is more pro-vacinne? is intended for the graph on the left only or for both graphs, as the title seems broad and could be applicable to both graphs (side note: vaccine is misspelt in the title).</p>
<p>The placement of the legend should be beside the graph (on the left) that the audience need to reference to more often, so that it is clear to the audience the colour encoding of the graph, and also to reduce the distance that the audience needs to visually trace between the graph and the legend.</p>
<h3 id="partial-colour-encoding-indicated-in-the-legend">2. Partial colour encoding indicated in the legend</h3>
<p>The legend only indicated the levels (i.e.1 and 5) with a short description for the first and last colours, and only the levels (i.e.2, 3 and 4) for the middle three colours. To make it clear to the audience what each colour stands for, and for consistency, the short description should be added for the middle three colours as well. It is noted that the data source did not include the short description for the middle values.</p>
<figure>
<img src="critique/legend.jpg" style="width:35.0%" alt="Legend" /><figcaption aria-hidden="true">Legend</figcaption>
</figure>
<p>In addition, the title of the legend <em>Vac 1</em> does not convey clearly what the legend is for.</p>
<h3 id="misleading-graph-title-for-the-data-in-the-graph-on-the-left">3. Misleading graph title for the data in the graph on the left</h3>
<p>At a cursory glance, the audience is led to think that there are two different messages being conveyed in the data visualisation due to (a) the wording of the titles; and (b) more categories being observed in the graph on the left (made more visually prominent by differences in the colours used in the two graphs).</p>
<p>Upon a closer look, the data in the graph on the left is based on the categories of a 5-point Likert scale. Comparing with the graph on the right, the audience then realises that the blue bars match for the two graphs. As the graph on the right clearly states that the data reflects the % of strongly agreed to vaccination, this suggests that the graph on the left is based on the full spectrum of responses answering the same question on vaccination for each country. Here, the creator assumed that the indicator of a country being pro-vaccine is represented by the percentage of survey respondents who agreed or disagreed to vaccination, and misleads the audience to think this way too.</p>
<h3 id="graph-title-not-useful-for-the-graph-on-the-right">4. Graph title not useful for the graph on the right</h3>
<p>The visualisation is based on a survey on the willingness of the public on Covid-19 vaccination, and the data on the field <em>vac_1: If a Covid-19 vaccine were made available to me this week, I would definitely get it:</em> is used to plot the graphs. Although the graph title indicates that the visualisation is showing the % of strongly agreed to vaccination, it is not clear to the audience that the vaccination is for Covid-19 and not other viruses.</p>
<p>In addition, there are several variations to the question asked in <em>vac_1</em> with the same values, in the survey, which is shown in the table below:</p>
<table>
<colgroup>
<col style="width: 38%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Question</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>vac_1</td>
<td>If a Covid-19 vaccine were made available to me this week, I would definitely get it:</td>
</tr>
<tr class="even">
<td>vac_2</td>
<td>If a Covid-19 vaccine becomes available to me in 2021, I definitely intend to get it.</td>
</tr>
<tr class="odd">
<td>vac_3</td>
<td>If a Covid-19 vaccine becomes available to me a year from now, I definitely intend to get it</td>
</tr>
</tbody>
</table>
<p>For someone who knows the survey and the questions asked, it is not clear which questions data is the visualisation based on. Even if the small print <em>Vac 1</em> in the legend is noted, it will require some work on the part of the audience to try to remember or to find out what it means, which defeats the purpose of visualisations in facilitating analytical reasoning.</p>
<h3 id="selection-of-countries-not-explained-in-the-visualisation">5. Selection of countries not explained in the visualisation</h3>
<p>The creator selected 14 out of the 30 countries surveyed to include in the visualisation. The reasons for the choice of countries are not included in the visualisation and may mislead the audience to think that the 14 countries shown are either the only countries that were surveyed or the top-14 countries that have the highest percentage of strongly agreed to vaccination. It was also noted that prominent countries like China and United States were missing in the visualisation.</p>
<p>Upon further investigation of the dataset, it was found that the remaining countries (Brazil, China, Hong Kong, India, Indonesia, Malaysia, Mexico, Philippines, Saudi Arabia, Taiwan, Thailand, United Arab Emirates, United States and Vietnam) do not have the vaccination fields in the dataset, and the data from Israel is recently added from 29/01/2021 onwards. These were likely the reasons for the exclusion in the visualisation, which the creator did not attempt to explain to provide clarity.</p>
<p>In addition, Spain is excluded in the visualisation when valid data is available.</p>
<h3 id="good-use-of-chart-type-and-chart-orientation">6. Good use of chart type and chart orientation</h3>
<p>The use of the stacked bar chart on the left allows for meaningful comparison of the categories across countries, as well as within each country. Each bar is split into five categories, which is manageable for the audience to make moderately accurate visual comparisons. For both graphs, the x-axes start at zero, which gives a good representation and proportion of the percentage data shown.</p>
<figure>
<img src="critique/stackedbar_left.jpg" style="width:80.0%" alt="(i) Able to make moderately accurate visual comparisons; (ii) x-axis starts at zero" /><figcaption aria-hidden="true">(i) Able to make moderately accurate visual comparisons; (ii) x-axis starts at zero</figcaption>
</figure>
<p>The charts are placed horizontally, instead of vertically, which allows the audience to easily read the country labels.</p>
<h3 id="data-ordered-differently-in-both-graphs">7. Data ordered differently in both graphs</h3>
<p>The two graphs are ordered differently, left in alphabetic order of the country name and right in descending data value order. Assuming that the intent of the graph on the right is for the audience to have a detailed view of the percentage values (which is difficult to read from the stacked bar graph on the left), the difference in the ordering makes it challenging to find a specific country in the graph on the right. For example, if I am interested in France after looking at her distribution of responses in the graph on the left, I need to scan through the list of countries in the graph on the right to find France. This eye-balling action (left-right, up-down) also makes it more tedious for comparisons between multiple countries.</p>
<figure>
<img src="critique/dataorder.jpg" alt="Difficult to search and compare between the two graphs" /><figcaption aria-hidden="true">Difficult to search and compare between the two graphs</figcaption>
</figure>
<p>The intent of the creator is to show each countrys percentage of survey respondents who agreed or disagreed to vaccination, in an attempt to link it to how pro-vaccine a country is. As the order of the data in the graph on the left is in alphabetic order, it is visually challenging to see which country has the highest or lowest percentage for the different categories. On the other hand, the graph on the right is ordered in descending data values, which makes it clear which country has the highest or lowest % strongly agreed to vaccination.</p>
<p>As there are five categories that the data values ordering can be based on, the one that best conveys the intended message should be chosen. This will allow the audience to clearly see the message intended by the creator, and also make better comparisons within and across countries.</p>
<h3 id="graph-on-right-part-of-a-replicate-of-graph-on-the-left">8. Graph on right part of a replicate of graph on the left</h3>
<p>As the % strongly agreed from the graph on the left is extracted and displayed in the graph on the right, there is no new information to be gained from the graph on the right if the graph on the left is ordered in the same way. It is also not clear that the two graphs are linked and how they are linked.</p>
<h3 id="no-information-provided-on-dataset-used">9. No information provided on dataset used</h3>
<p>The data source is not indicated in the visualisation, thus reducing the clarity on which dataset the visualisation is based on as there are many similar surveys conducted. The audience is not able to look deeper or clarify any doubts that they might have without knowing the dataset used.</p>
<p>The period of the data used is also not provided in the visualisation. This is important to give the audience the timeframe that the visualisation is based on, given that the Covid-19 situation is highly dynamic and is constantly evolving. Developments on the global and local disease threat, and vaccine development and procurement by individual countries would have an impact on the willingness of the public on the Covid-19 vaccination. Therefore the period that the data is based on is important to give the audience clarity on the situational context.</p>
<h2 id="aesthetics">Aesthetics</h2>
<h3 id="choice-of-colour-scale-used">1. Choice of colour scale used</h3>
<p>The creator used a qualitative colour scale to distinguish the categories of the five-point Likert Scale. As there is an intrinsic order to the categories, with strongly agree having a higher order than agree, and there is a sense of value of positive (strongly agree) and negative (strongly disagree), it would be more appropriate to utilise a diverging colour scale.</p>
<h3 id="good-aspect-ratio-used-in-cartesian-coordinate-system">2. Good aspect ratio used in cartesian coordinate system</h3>
<p>The aspect ratio used ensures that any important differences in the length of the bars are noticeable in both graphs.</p>
<figure>
<img src="critique/aspectratio_bar_right.jpg" style="width:50.0%" alt="Able to clearly see the differences in length of the bars" /><figcaption aria-hidden="true">Able to clearly see the differences in length of the bars</figcaption>
</figure>
<h3 id="x-axis-range-and-units">3. X-axis range and units</h3>
<p>As mentioned earlier, both x-axes starts at zero, which makes the bar lengths proportional and representative of the percentage amount. However, the x-axis for the graph on the right should have a axis label after the longest bar, so that it does not give an impression of truncation.</p>
<figure>
<img src="critique/xaxis_bar_right.jpg" alt="No label at the end of x-axis gives an impression of graph truncation" /><figcaption aria-hidden="true">No label at the end of x-axis gives an impression of graph truncation</figcaption>
</figure>
<p>The x-axes titles and labels included the percentage units, which provides information to the audience on the units of the data. For consistency, the x-axis labels for both graphs should be aligned and rounded to the same decimal point, i.e.20% or 20.0%.</p>
<figure>
<img src="critique/xaxislabels.jpg" alt="Labels in different decimal points" /><figcaption aria-hidden="true">Labels in different decimal points</figcaption>
</figure>
<h3 id="axes-labels-are-difficult-to-read">4. Axes labels are difficult to read</h3>
<p>The x and y axes labels for both graphs are consistent and clear, but are difficult to read as the font colour is in a lighter tone. The attention of the audience is also drawn to the axes titles due to the boldface and darker colour. The effect would have been better if the font colour and boldface is swapped between the axes titles and labels, making it easier for the audience to find their countries of interest and the corresponding range that the bar lengths fall within.</p>
<figure>
<img src="critique/faintlines.jpg" alt="(i) Without doing any inking, attention is drawn to the axes titles; (ii) faint axis lines and grid lines" /><figcaption aria-hidden="true">(i) Without doing any inking, attention is drawn to the axes titles; (ii) faint axis lines and grid lines</figcaption>
</figure>
<p>In addition, the x-axis lines and grid lines are faint and are hardly visible in both graphs. A slightly darker colour would make it visible without placing too much emphasis on it, allowing the audience to focus on the bars and be able to reference to the axes labels when needed.</p>
<h1 id="b-proposed-design">(b) Proposed design</h1>
<figure>
<img src="images/sketch.jpg" alt="Sketch of proposed design" /><figcaption aria-hidden="true">Sketch of proposed design</figcaption>
</figure>
<p>The proposed design consists of a number of components that attempt to address the issues highlighted above:</p>
<ul>
<li><strong>Visualiation title and lead-in statements</strong>: highlight what the visualisation is about and provide some background information on the data and context</li>
<li><strong>Interactive components</strong>, namely being able to select parameters such as country, age, sex, household size, number of children in household, and employment status: allow exploration at the overall level while giving some flexibility to view the data of specific groups. Full range of countries to be provided, and to pre-set the country parameter to key countries so as not to over-crowd the initial visualisation</li>
<li><strong>Top-and-bottom placement of graphs</strong>: reduce the tendency to visually compare the two graphs</li>
<li><strong>Legend placed between graphs</strong>: reduce the distance of the legend from both graphs</li>
<li><strong>Diverging stacked bar chart</strong> with <strong>diverging colour scale</strong> for overview of data: accentuate the differences in the categories and aid in comparison of categories within each country and across countries</li>
<li><strong>Tooltip mouseover</strong> for each category to contain breakdown of other fields in the data: provide insights on the possible reasons for the category chosen for the diverging stacked bar chart</li>
<li><strong>Horizontal bar chart with error bar</strong> for zoomed-in view of each category: provide a sense of the dynamic Covid-19 situation by including error bars to show the ranges that responses may fluctuate within. Added interactivity for audience to select the category and confidence level for the error bars</li>
<li><strong>Data source</strong>: provide the link to the data source for easy access to the data used</li>
</ul>
<p>The order for both graphs follows the original visualisation (alphabetic order for the diverging stacked bar chart and descending order for the horizontal bar chart with error bar). With the purpose of each graph to be explicitly included in the graph titles, there is no need to align the ordering as the purpose of the graphs is different.</p>
<h1 id="c-final-product-of-proposed-visualisation">(c) Final product of proposed visualisation</h1>
<p>The proposed visualisation is designed using Tableau and uploaded on Tableau Public. The link can be found <a href="">here</a>.</p>
<h1 id="d-step-by-step-description-to-prepare-the-final-product">(d) Step-by-step description to prepare the final product</h1>
<h3 id="place-all-relevant-csv-files-into-one-folder">1. Place all relevant csv files into one folder</h3>
<p>Extract all zipped files and place all countries csv files into the same folder. For countries with missing vaccination fields, they are placed in a sub-folder missing_vac.</p>
<p><img src="guide/1.0.jpg" /></p>
<h3 id="prepare-the-data-tables">2. Prepare the data tables</h3>
<p>For each file with valid vaccination fields, delete all other fields except for RecordNo, endtime, gender, age, household_size, household_children, employment_status, vac_1, vac2_1, vac2_2, vac2_3, vac2_6 and vac_3. The order of the fields are aligned in all the files.</p>
<p><img src="guide/2.0.jpg" /></p>
<p>There is no household_size, household_children and employment_status in the Israel dataset. The three columns were added in for alignment with the rest of the files.</p>
<p>The employment_status are coded differently for four countries (Denmark, Finland, Norway and Sweden). Instead of one field, there are seven fields for each employment status value in binary (Yes/No).</p>
<p><img src="guide/2.1.jpg" /></p>
<p>Recoding is done in Excel to replace Yes values under each employment_status column to reflect the employment status value to align with the other files. The mapping is as shown:</p>
<p><img src="guide/2.2.jpg" /></p>
<p>For each file, the steps taken in Excel are:</p>
<ol type="1">
<li>Select entire column employment_status_1</li>
<li>Press Ctrl + F to open the Find and Replace windowlet</li>
<li>Click on Replace tab</li>
<li>Under Find what: and Replace with:, enter Yes and Full time employment respectively</li>
<li>Click Replace All</li>
</ol>
<p><img src="guide/2.3.jpg" /></p>
<ol start="6" type="1">
<li>Repeat steps 1-5 to replace No values with blank</li>
<li>Repeat steps 1-6 for the remaining six columns</li>
<li>Save and close the file</li>
</ol>
<p>The columns are then merged in Tableau and the data is exported to csv file, with the following steps for each file:</p>
<ol start="9" type="1">
<li>Open the file in Tableau</li>
<li>Select the columns to be merged</li>
<li>Right-click and select Merge Mismatch Fields</li>
</ol>
<p><img src="guide/2.4.jpg" /></p>
<ol start="12" type="1">
<li>Rename the merged column created to Employment Status</li>
<li>At the menu bar, select Data/Export Data to CSV and click on the file name</li>
</ol>
<p><img src="guide/2.5.jpg" style="width:80.0%" /></p>
<ol start="14" type="1">
<li>Save the file</li>
</ol>
<p>As the order of the columns and field names in the exported data from Tableau changed, the columns are reordered and renamed in Excel to be the same as the other files.</p>
<h3 id="import-data-tables-into-tableau">3. Import data tables into Tableau</h3>
<p>Open Tableau and click-and-drag (any) one file into Tableau.</p>
<p><img src="guide/3.0.jpg" /></p>
<p>Tableau will automatically show all the other files in the same folder under Files.</p>
<p><img src="guide/3.1.jpg" /></p>
<p>Remove australia.csv from the workspace by clicking and dragging it out of the workspace.</p>
<p>Under Files, select all the relevant files and drag them into the workspace to combine all the data in the different files into one table.</p>
<p><img src="guide/3.2.jpg" /></p>
<p>After combining, some repeated fields are noted, as indicated in the black box below.</p>
<p><img src="guide/3.3.jpg" /></p>
<p>The Merge Mismatch Field is used to combine similar fields together. After merging, the fields were reviewed and renamed accordingly. For Table Name, it was renamed to Country, and aliases were used to rename the filenames to country names.</p>
<figure>
<img src="guide/3.4.jpg" style="width:50.0%" alt="Right-click to select Alias" /><figcaption aria-hidden="true">Right-click to select Alias</figcaption>
</figure>
<figure>
<img src="guide/3.5.jpg" style="width:80.0%" alt="Editing the aliases" /><figcaption aria-hidden="true">Editing the aliases</figcaption>
</figure>
<p>The data values under each field were checked through using the Alias option. It was noted that there were some issues with the Israel dataset after the union was made. However, as the issue cannot be resolved, Israel was removed from the analysis and visualisation.</p>
<p>For the vac fields, the extent of agreement and disagreement are explicitly spelt out.</p>
<p><img src="guide/3.6.jpg" style="width:80.0%" /></p>
<p>The figure below shows the final table after data preparation.</p>
<p><img src="guide/3.7.jpg" /></p>
<h3 id="create-the-diverging-stacked-bar-chart">4. Create the diverging stacked bar chart</h3>
<p>To create the graphs, move to Sheet 1 at the bottom of Tableau.</p>
<p><img src="guide/4.0.jpg" /></p>
<p>Several calculated fields need to be created, as shown in the table below.</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="header">
<th>Field name</th>
<th>Formula</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Number of Records</td>
<td>1</td>
</tr>
<tr class="even">
<td>Total Count</td>
<td>TOTAL(SUM([Number of Records]))</td>
</tr>
<tr class="odd">
<td>Count Negative</td>
<td>IF [vac_1]=5 - Strongly disagree THEN 1 ELSEIF [vac_1]=4 THEN 1 ELSEIF [vac_1]=3 THEN 0.5 ELSE 0 END</td>
</tr>
<tr class="even">
<td>Total Count Negative</td>
<td>TOTAL(SUM([Count Negative]))</td>
</tr>
<tr class="odd">
<td>Percentage</td>
<td>SUM([Number of Records])/[Total Count]</td>
</tr>
<tr class="even">
<td>Gantt Start</td>
<td>-[Total Count negative]/[Total Count]</td>
</tr>
<tr class="odd">
<td>Gantt Percent</td>
<td>PREVIOUS_VALUE([Gantt Start])+ZN(LOOKUP([Percentage],-1))</td>
</tr>
</tbody>
</table>
<p>The following steps are taken to create the calculated fields:</p>
<ol type="1">
<li>Under Data tab, click on the black dropdown arrow near the search bar and select Create Calculated Field</li>
</ol>
<p><img src="guide/4.1.jpg" style="width:60.0%" /></p>
<ol start="2" type="1">
<li>Enter the field name and formula as shown below.</li>
</ol>
<p><img src="guide/4.2.jpg" /></p>
<ol start="3" type="1">
<li>Repeat steps 1-2 for each calculated field</li>
</ol>
<p>The next step would be to create the diverging stacked bar chart!</p>
<ol type="1">
<li>Add Gantt Percent and Country into Columns and Rows respectively</li>
</ol>
<p><img src="guide/4.3.jpg" /></p>
<ol start="2" type="1">
<li>Add vac_1 to Details in the Marks card</li>
</ol>
<p><img src="guide/4.4.jpg" style="width:60.0%" /></p>
<ol start="3" type="1">
<li>Under Columns, right-click Gantt Percent, go to Compute Using and select vac_1</li>
</ol>
<p><img src="guide/4.5.jpg" /></p>
<ol start="4" type="1">
<li>Under the Marks card, change the chart type to Gantt Bar</li>
</ol>
<p><img src="guide/4.6.jpg" style="width:50.0%" /></p>
<ol start="5" type="1">
<li>Click and drag vac_1 into Colour in the Marks card</li>
</ol>
<p><img src="guide/4.7.jpg" style="width:50.0%" /></p>
<ol start="6" type="1">
<li>Click and drag Percentage into Size in the Marks card</li>
</ol>
<p><img src="guide/4.8.jpg" style="width:70.0%" /></p>
<ol start="7" type="1">
<li>Click and drag vac_1 into the Filters card</li>
</ol>
<p><img src="guide/4.9.jpg" style="width:70.0%" /></p>
<ol start="8" type="1">
<li>In the windowlet, deselect Null and close the windowlet</li>
</ol>
<p><img src="guide/4.10.jpg" style="width:80.0%" /></p>
<ol start="9" type="1">
<li>At the legend, click on the black dropdown arrow and select Edit Colors to change the colour palette. The Traffic Light palette is chosen to show that agreement in a positive tone (green), disagreement in a negative tone (red), and neutrality in paler colour (yellow). The strength of the response i.e.strongly is reflected by the intensity of the colour.</li>
</ol>
<p><img src="guide/4.12.jpg" style="width:70.0%" /></p>
<ol start="10" type="1">
<li>At the legend, click on the black dropdown arrow and select Sort</li>
</ol>
<p><img src="guide/4.11.jpg" style="width:50.0%" /></p>
<ol start="11" type="1">
<li>In the windowlet, select Descending to place the negative responses on the left and positive responses on the right</li>
</ol>
<p><img src="guide/4.13.jpg" /></p>
<ol start="12" type="1">
<li>Right-click on the x-axis and deselect Show Header - x-axis removed as it would not be useful due to the negative figures. Any information on the values will be added in as a tooltip (covered in subsequent steps)</li>
</ol>
<p>The base diverging stacked bar chart is now complete! The next step will be to add in the interactive features using the filters. The following are added as filters:</p>
<ul>
<li>Gender</li>
<li>Age</li>
<li>Employment Status</li>
<li>Household Size</li>
<li>Household Children</li>
<li>Month</li>
</ul>
<p>In the earlier sketch, country was added as a filter as the initial thought was that there were many countries not reflected. However, due to data limitations, only 14 countries are shown, which is similar to the original visualisation.</p>
<p>The following steps are taken to add the filters:</p>
<ol type="1">
<li>Right-click Age and select Convert to Dimension</li>
</ol>
<p><img src="guide/4.14.jpg" style="width:70.0%" /></p>
<ol start="2" type="1">
<li><p>Click and drag the above mentioned dimensions to the Filters card</p>
<ul>
<li><p>For Age, a windowlet will appear. Click all and select Ok</p></li>
<li><p>Right-click Age and select Continuous <img src="guide/4.15.jpg" /></p></li>
<li><p>A windowlet will appear. Click OK</p></li>
</ul>
<p><img src="guide/4.16.jpg" /></p></li>
<li><p>For each filter, right-click and select Show Filter</p></li>
<li><p>Re-arrange the filter cards by dragging it around the workspace</p></li>
<li><p>The filter cards were renamed for simplicity and changes were made to the filter controls by right-clicking the black dropdown arrow for each filter card</p></li>
</ol>
<table>
<thead>
<tr class="header">
<th>Filter</th>
<th>Control</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Gender</td>
<td>Multiple values (list)</td>
</tr>
<tr class="even">
<td>Age</td>
<td>Range of values</td>
</tr>
<tr class="odd">
<td>Employment Status</td>
<td>Multiple values (dropdown)</td>
</tr>
<tr class="even">
<td>Household Size</td>
<td>Multiple values (dropdown)</td>
</tr>
<tr class="odd">
<td>Household Children</td>
<td>Multiple values (dropdown)</td>
</tr>
<tr class="even">
<td>Month</td>
<td>Single value (list)</td>
</tr>
</tbody>
</table>
<p>The last step would be to beautify the graph! A chart title is added and the legend was also shifted to the bottom of the graph and renamed to Response. The figure below shows the final graph.</p>
<p><img src="guide/4.17.jpg" /></p>
<h3 id="create-the-graphs-for-the-tooltip">5. Create the graphs for the tooltip</h3>
<p>The following steps are taken to create the graph for the tooltips:</p>
<ol type="1">
<li>In a new sheet, click and drag vac2_1 into Rows and Number of Records into Columns</li>
</ol>
<p><img src="guide/5.0.jpg" /></p>
<ol start="2" type="1">
<li>Click on Show Me and select the stacked bars</li>
</ol>
<p><img src="guide/5.1.jpg" style="width:50.0%" /></p>
<ol start="3" type="1">
<li>Click on the icon shown below to orientate the stacked bar chart horizontally</li>
</ol>
<p><img src="guide/5.2.jpg" /></p>
<ol start="4" type="1">
<li>Click and drag vac2_1 into the filters and deselect Null values</li>
</ol>
<p><img src="guide/5.3.jpg" style="width:70.0%" /></p>
<ol start="5" type="1">
<li>Right-click on the x-axis to edit the axis. Remove the title</li>
</ol>
<p><img src="guide/5.4.jpg" style="width:70.0%" /></p>
<ol start="6" type="1">
<li>Go to the Tick Marks tab and select None under Major Tick Marks. Close the windowlet</li>
</ol>
<p><img src="guide/5.5.jpg" style="width:70.0%" /></p>
<ol start="7" type="1">
<li>At the legend on the right, click on the dropdown arrow to edit colours, similar to the diverging stacked bar chart.</li>
</ol>
<p><img src="guide/5.6.jpg" style="width:70.0%" /></p>
<ol start="8" type="1">
<li>Add in the survey question as the title of the sheet and resize the graph to be able to fit in the tooltip. Right-click the x-axis and unselect Show Header</li>
</ol>
<p>The above steps are repeated for vac2_2, vac2_3, vac2_6 and vac_3. As a shortcut, the sheet for vac2_1 was duplicated, and the sheet title and variables were updated accordingly.</p>
<p>Back at the diverging stacked bar chart sheet, select Tooltip under the Marks card. In the windowlet, enter in the survey response and click on Insert/Sheets and select the corresponding graphs. Resize the font accordingly to fit into the tooltip box.</p>
<p><img src="guide/5.8.jpg" /></p>
<p>Other useful information are also added into the tooltip, as shown below.</p>
<p><img src="guide/5.9.jpg" /></p>
<p>The end product looks like this!</p>
<p><img src="guide/5.10.jpg" /></p>
<h3 id="create-the-error-bar-on-bar-chart">6. Create the error bar on bar chart</h3>
<p>In order to allow interactivity with the response and confidence level, two parameters need to be created: Response and Confidence Level.</p>
<p>The following steps are taken to create the parameters:</p>
<ol type="1">
<li>At the Data tab on the left panel, click on the black dropdown arrow and select Create Parameter</li>
</ol>
<p><img src="guide/6.0.jpg" style="width:80.0%" /></p>
<ol start="2" type="1">
<li>For Response, enter the values shown in the figure below (note that the values can be added from dimensions):</li>
</ol>
<p><img src="guide/6.1.jpg" /></p>
<ol start="3" type="1">
<li>For Confidence Level, enter the values shown in the figure below:</li>
</ol>
<p><img src="guide/6.2.jpg" style="width:80.0%" /></p>
<p>The following calculated fields need to be created for the error bar:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="header">
<th>Field name</th>
<th>Formula</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Count_Response</td>
<td>IF [vac_1]=[Response] THEN 1 ELSE 0 END</td>
</tr>
<tr class="even">
<td>Prop_Response</td>
<td>SUM([Count_Response])/SUM([Number of Records])</td>
</tr>
<tr class="odd">
<td>Prop_Response_Margin of Error</td>
<td>[Confidence Level]<em>(SQRT(([Prop_Response]</em>(1-[Prop_Response]))/SUM([Number of Records])))</td>
</tr>
<tr class="even">
<td>Prop_Response_Lower</td>
<td>[Prop_Response] - [Prop_Response_Margin of Error]</td>
</tr>
<tr class="odd">
<td>Prop_Response_Upper</td>
<td>[Prop_Response] + [Prop_Response_Margin of Error]</td>
</tr>
</tbody>
</table>
<p>Refer to earlier steps on how to create calculated fields.</p>
<p>Next, the error bar on bar chart is created taking the following steps:</p>
<ol type="1">
<li>Click and drag Prop_Response to Columns and Country to Rows</li>
<li>Drag Measure Values to the dual-axis line for the x-axis</li>
</ol>
<p><img src="guide/6.3.jpg" /></p>
<ol start="3" type="1">
<li>Remove all fields except for Prop_Response_Lower and Prop_Response_Upper</li>
</ol>
<p><img src="guide/6.4.jpg" /></p>
<ol start="4" type="1">
<li>Right-click the x-axis and select Synchronize Axis</li>
</ol>
<p><img src="guide/6.5.jpg" /></p>
<ol start="5" type="1">
<li>In the Measure Values card, change the chart type to Line</li>
</ol>
<p><img src="guide/6.6.jpg" style="width:50.0%" /></p>
<ol start="6" type="1">
<li>Click and drag Measure Names to "Path</li>
</ol>
<p><img src="guide/6.7.jpg" style="width:50.0%" /></p>
<ol start="7" type="1">
<li>Click and drag vac_1 to Filters, and select all except Null</li>
</ol>
<p><img src="guide/6.8.jpg" style="width:50.0%" /></p>
<ol start="8" type="1">
<li>To show the parameters, right-click on the parameter names and select Show Parameter. Change the parameter options to Single Value List</li>
</ol>
<p><img src="guide/6.9.jpg" style="width:50.0%" /></p>
<ol start="9" type="1">
<li>To align the colour of the bar chart to the same colour palette used in the diverging stacked bar chart, click and drag Response to Colour in the AGG(Prop_Response) card.</li>
</ol>
<p><img src="guide/6.10.jpg" style="width:50.0%" /></p>
<ol start="10" type="1">
<li>To change the colours, toggle between the response values in the Parameter card and the legend. Use the same traffic light colour palette</li>
</ol>
<p><img src="guide/6.11.jpg" /> 11. Sort the graph in descending order</p>
<p><img src="guide/6.12.jpg" /></p>
<ol start="12" type="1">
<li>Other amendments were made to beautify the graph, such as giving a title, amending the tooltip, removal of the dual x-axis header and colour legend, and aesthetic changes on the line thickness.</li>
</ol>
<p>The final error bar on bar chart is shown below.</p>
<p><img src="guide/6.13.jpg" /></p>
<h3 id="create-the-dashboard">7. Create the dashboard</h3>
<p>Go to the dashboard sheet by clicking on New Dashboard sheet at the bottom of Tableau. Under the Dashboard tab, go to Size and select Automatic from the dropdown list.</p>
<p><img src="guide/7.0.jpg" /></p>
<p>Add the dashboard title by clicking on checkbox Show dashboard title near the left bottom of the workspace. Click and drag a text object to the area under the dashboard title, as shown below. A windowlet will appear and enter the lead-in statements. A placeholder is shown in the subsequent figures.</p>
<p><img src="guide/7.1.jpg" /></p>
<p>Next, click and drag the sheet DivergingStacked to the area below the lead-in statement.</p>
<p><img src="guide/7.2.jpg" /></p>
<p>Then, click and drag the sheet ErrorBar to the space below the diverging stacked bar chart.</p>
<p><img src="guide/7.3.jpg" /></p>
<p>Edit the necessary such as title and lead-in statements, and rearrange the tiles to fit the elements nicely. Add in blank objects where needed.</p>
<p>As the graphs have a scrollbar within the tiles, it does not aid the audience in maneuvering. At each of the graph tiles, click on the dropdown arrow, go to Fit and select Fit Height.</p>
<p><img src="guide/7.4.jpg" /></p>
<p>The blueprint of the final dashboard is as shown below, including the blank spaces that were added in.</p>
<p><img src="guide/7.5.jpg" /></p>
<h1 id="e-major-observations-revealed-by-the-final-product">(e) Major observations revealed by the final product</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
